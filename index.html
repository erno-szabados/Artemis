<!DOCTYPE html>
<html>
<head>
     <title>…</title>
    <link href="/css/site.css" rel="stylesheet" />
</head>
<body>
<header>
…
</header>
<section>
<h1 id="artemis">
Artemis
</h1>
<p>
Artemis is an Oberon-7 module collection. My hope is to encourage continued use and development of the Oberon-7 language and encourage convergence towards compatibility in implementations of Oberon-7 compilers.
</p>
<p>
This project started as a re-imagining of the efforts that began at the Oakwood Hotel in the 1992. As at Oakwood I hope to encourage convergence to help code become more portable. Unlike Oakwood my focus is only on Oberon-7 and systems implemented in Oberon-7 or providing an Oberon-7 compiler. That is the scope of Artemis project for now.
</p>
<p>
Initial development is being done in a POSIX environment and relies on Karl Landström’s <a href="https://miasap.se/obnc/">OBNC</a> compiler and Mike Spivey’s <a href="https://github.com/Spivoxity/obc-3">Obc-3</a>.
</p>
<p>
Artemis draws inspiration from Wirth and Reed’s Project Oberon 2013, Joseph Templ’s <a href="https://github.com/jtempl/ofront">Ofront</a> with V4. It also draws inspiration from the discussions and community on the <a href="https://lists.inf.ethz.ch/mailman/listinfo/oberon">Oberon List</a>.
</p>
<p>
A big thank you goes to all the inspiring people who contributed to Oberon and Oberon Systems over the years particularly where their source code is publicly available or through published articles, presentations and who wrote books about the language and system. All have help me study path Prof. Wirth and Prof. Gutkneckt pioneered all the many years ago.
</p>
<h2 id="project-layout">
Project layout
</h2>
<ul>
<li>
root
<ul>
<li>
obncdocs
</li>
<li>
obnc (not portable)
</li>
<li>
oxford (not portable)
</li>
<li>
ports
<ul>
<li>
s3
</li>
<li>
v4
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>
The root repository directory is for modules that are portable between POSIX Oberon-7 compiler implementations and portable to an Oberon-7 based Oberon System.
</p>
<p>
The <strong>obncdocs</strong> directory contains documentation of the module definitions for the common modules in the root directory.
</p>
<p>
The <strong>obnc</strong> directory contains modules that target specific features of the OBNC compiler. This is primarily integration with C based libraries and services. These aren’t portable between compilers but should work across POSIX systems where OBNC is available.
</p>
<p>
The <strong>oxford</strong> directory contains modules that target the Oxford Oberon Compiler, aka Obc-3. This is primarily integration with C based libraries and services. These aren’t portable between compilers but should work across POSIX systems where Obc-3 is available.
</p>
<p>
The <strong>ports</strong> directory contains sub directories of code ported from a historic Oberon System, usually the original code was implemented in Oberon-2. The code in the <strong>ports</strong> directory are subject to their own copyright and licenses. <strong>ports</strong> is focused on “porting” code from S3 (Native Oberon) and V4 (Linz Oberon) to Oberon-7 as an exploration of Oberon-7 language and with an eye to eventually porting to the Oberon System that evolved from Project Oberon 2013.
</p>
<h2 id="new-modules">
New Modules
</h2>
<p>
<a href="Chars.Mod">Chars</a> is a module for working with CHAR and ARRAY OF CHAR. It is inspired by the Oakwood Strings module. It goes beyond the Oakwood minimum. It can function as a drop in replacement for the Oakwood Strings module.
</p>
<p>
<a href="DStrings.Mod">DStrings</a> provides a dynamic string implementation for Oberon-7. The procedures signatures are often compatible with the Chars module. It leverages the Rider concept borrowed from Files and Texts in the Oberon System.
</p>
<p>
<a href="Tests.Mod">Tests</a> is a minimal test library used to implement module tests in Artemis. It tries to honor the advice of “simple but no simpler”.
</p>
<p>
<a href="Obn2.Mod">Obn2</a> is a module provides compatibilty for some built-in Oberon-2 procedures that were dropped in the evolution to Oberon-7.
</p>
<h2 id="obnc-specific-modules">
OBNC specific modules
</h2>
<p>
The <a href="np/README.md">following modules</a> are not portable to Project Oberon. They even require use of the OBNC compiler so are not portable for use with other POSIX compilers. This is due to dependency on OBNC extension modules or because they are derived from C code and use C libraries.
</p>
<p>
<a href="obnc/Unix.Mod">Unix</a> provides access to some Unix/C facilities.
</p>
<ul>
<li>
<code>Exit(exitCode : INTEGER);</code> will cause a program to exist with the given POSIX exit code.
</li>
<li>
<code>KernelName(dest : ARRAY OF CHAR)</code> uses the POSIX command <code>uname</code> to populate <code>dest</code> with the name of the host OS kernel if known
</li>
<li>
<code>Architecture(dest : ARRAY OF CHAR)</code> uses the POSIX command <code>uname</code> to populate the <code>dest</code> with the name of the host architectures, e.g. x86_64, armv7.
</li>
</ul>
<p>
<a href="obnc/Clock.Mod">Clock</a> is an abstraction layer for system clock built. It uses the C <code>clock_gettime()</code> and <code>clock_settime()</code>.
</p>
<p>
<a href="obnc/TextsCmdLn.Mod">TextsCmdLn</a> an port of Texts from Project Oberon 2013 Texts module to a POSIX environment.
</p>
<p>
<a href="obnc/ocat.Mod">ocat</a> is a naive implementation of Joseph Templ’s ocat
</p>
<h2 id="oxford-specific-modules">
Oxford Specific Modules
</h2>
<p>
<a href="oxford/Env.m">extEnv</a> provides an OBNC compatible Env module
</p>
<p>
<a href="oxford/Convert.m">extConvert</a> provides an OBNC compatible Convert module
</p>
<p>
<a href="oxford/Unix.m">Unix</a> provides access to some Unix/C facilities.
</p>
<ul>
<li>
<code>Exit(exitCode : INTEGER);</code> will cause a program to exist with the given POSIX exit code.
</li>
<li>
<code>KernelName(dest : ARRAY OF CHAR)</code> uses the POSIX command <code>uname</code> to populate <code>dest</code> with the name of the host OS kernel if known
</li>
<li>
<code>Architecture(dest : ARRAY OF CHAR)</code> uses the POSIX command <code>uname</code> to populate the <code>dest</code> with the name of the host architectures, e.g. x86_64, armv7.
</li>
</ul>
<p>
<a href="oxford/Clock.m">Clock</a> is an abstraction layer for system clock built. It uses the C <code>clock_gettime()</code> and <code>clock_settime()</code>.
</p>
<p>
<a href="oxford/TextsCmdLn.m">TextsCmdLn</a> a port of Texts from Project Oberon 2013 Texts module to a POSIX environment.
</p>
<p>
<a href="oxford/ocat.m">ocat</a> is a naive implementation of Joseph Templ’s ocat
</p>
<h2 id="command-line-tools">
Command line tools
</h2>
<p>
The following are modules are implementation of POSIX CLI.
</p>
<p>
<strong>ocat</strong> is inspired by Joseph Templ’s <code>ocat</code> command from <a href="https://github.com/jtempl/ofront">Ofront</a>. It converts Oberon Texts into plain text used on POSIX systems. There is also an option to convert tabs to spaces. It will attempt to convert LF, CR or CRLF to a system appropriate end of line.
</p>
<h2 id="project-approach-to-portability">
Project approach to portability
</h2>
<p>
Artemis is made up of several categories of Oberon-7 modules. Modules in the root should be portable across POSIX Oberon-7 compilers and portable to an Oberon Systems based on Project Oberon 2013. A second category are modules written for specific POSIX based Oberon-7 compilers. The third category is code ported from historic Oberon Systems such as S3 and V4.
</p>
<ul>
<li>
Portable modules are in “root” project directory
</li>
<li>
Compiler specific modules their own sub directories (e.g. “obnc”, “oxford”)
</li>
<li>
Ported modules in the “ports” sub directory
</li>
</ul>
<p>
In the POSIX environment Oberon-7 compilers have not converged (2021-06-16). This is true for Oakwood module implementations and and particularly true for how C code is integrated. The later is the important divergence as integration with legacy C libraries and services is likely to be required for some time into the future.
</p>
<h2 id="putting-it-all-together">
Putting it all together
</h2>
<p>
Both non-portable and portable modules can be used together in a project. This requires knowing the compiler you’re using and targeting it’s way of managing where to find modules.
</p>
<p>
In the <strong>obnc</strong> directory is an example of create an implementation of <strong>ocat</strong>. My implementation uses the module “Chars” from the Artemis project. This means you need to include both portable and non-portable code to compile <strong>ocat</strong>. With OBNC you need to set some environment variables to let the compiler known where to search for modules. Here’s what you can do to compile this implementation of <strong>ocat</strong> in the <strong>obnc</strong> directory.
</p>
<pre><code>export OBNC_IMPORT_PATH=&quot;.:../&quot;
obnc ocat.Mod</code></pre>
<p>
For the Obc-3 compiler we need to be in the <strong>oxford</strong> sub-directory. With Obc-3 you can just provide the full path the module you want to include. Compiling the implementation of <strong>ocat</strong> in the <strong>oxford</strong> directory looks like
</p>
<pre><code>obc -o ocat ../Chars.Mod -m ocat.m</code></pre>
</section>
<nav>
<ul>
<li>
<a href="/">Home</a>
</li>
<li>
<a href="./">README</a>
</li>
<li>
<a href="license.html">LICENSE</a>
</li>
<li>
<a href="install.html">INSTALL</a>
</li>
<li>
<a href="./ports/">Ports</a>
</li>
<li>
<a href="./obnc/">OBNC Modules</a>
</li>
<li>
<a href="./oxford/">Obc-3 Modules</a>
</li>
<li>
<a href="https://github.com/rsdoiel/Artemis">Github</a>
</li>
</ul>
</nav>
<footer>
copyright (c) 2021 all rights reserved.
Released under the BSD 3-Clause license
See: http://opensource.org/licenses/BSD-3-Clause
</footer>
</body>
</html>
